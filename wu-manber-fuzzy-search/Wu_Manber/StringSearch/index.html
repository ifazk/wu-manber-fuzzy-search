<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>StringSearch (wu-manber-fuzzy-search.Wu_Manber.StringSearch)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">wu-manber-fuzzy-search</a> &#x00BB; <a href="../index.html">Wu_Manber</a> &#x00BB; StringSearch</nav><header class="odoc-preamble"><h1>Module <code><span>Wu_Manber.StringSearch</span></code></h1><p>An module for fuzzy searching in strings</p></header><div class="odoc-content"><p>This module is intended to be used for searching as well as an example of properly using the mid-level functors in the <code>FirstMatch</code> module.</p><p>The search function in this module stop after the first match, and returns the error count together with the number of characters of the text read by the algorithm.</p><p>The following is a description of how to use the functions in <a href="../FirstMatch/index.html"><code>Wu_Manber.FirstMatch</code></a>.</p><p>We first collect all the relevant operations of strings and characters in a module called <code>Pattern</code>.</p><div class="odoc-spec"><div class="spec module" id="module-Pattern" class="anchored"><a href="#module-Pattern" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Pattern/index.html">Pattern</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Module collecting operations for strings.</p></div></div><p>Next we create a Matcher using one of the functors in the <code>Matcher</code> module.</p><pre><code>module ArrayMatcher = Matcher.MakeArrayMatcher (Pattern)</code></pre><div class="odoc-spec"><div class="spec module" id="module-ArrayMatcher" class="anchored"><a href="#module-ArrayMatcher" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="ArrayMatcher/index.html">ArrayMatcher</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>Next, we use the <code>FirstMatch.Make</code> functor to create functions that can search through sequences of characters.</p><pre><code>module FirstMatch = FirstMatch.Make (Pattern) (ArrayMatcher)</code></pre><div class="odoc-spec"><div class="spec module" id="module-FirstMatch" class="anchored"><a href="#module-FirstMatch" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="FirstMatch/index.html">FirstMatch</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>Lastly, to search through strings instead of sequences, we wrap the functions from the <code>FirstMatch</code> module.</p><pre><code>let search ~k ~pattern ~text =
  let seq = String.to_seq text in
  FirstMatch.first_match ~pattern ~k seq

let search_right_leaning ~k ~pattern ~text =
  let seq = String.to_seq text in
  FirstMatch.first_right_leaning_match ~pattern ~k seq

let report = FirstMatch.report</code></pre><div class="odoc-spec"><div class="spec value" id="val-search" class="anchored"><a href="#val-search" class="anchor"></a><code><span><span class="keyword">val</span> search : <span>k:int <span class="arrow">&#45;&gt;</span></span> <span>pattern:<a href="Pattern/index.html#type-t">Pattern.t</a> <span class="arrow">&#45;&gt;</span></span> <span>text:<span class="xref-unresolved">Stdlib</span>.String.t <span class="arrow">&#45;&gt;</span></span>
<span><span>(int * int * <span><span class="xref-unresolved">Optint</span>.Int63.t array</span>)</span> option</span></span></code></div><div class="spec-doc"><p><code>search ~k ~pattern ~text</code> searches for the first match in a string using the basic Wu and Manber algorithm, allowing for <code>~k</code> errors for a match. <code>~pattern</code> must have length less than or equal <code>63</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-search_right_leaning" class="anchored"><a href="#val-search_right_leaning" class="anchor"></a><code><span><span class="keyword">val</span> search_right_leaning : <span>k:int <span class="arrow">&#45;&gt;</span></span> <span>pattern:<a href="Pattern/index.html#type-t">Pattern.t</a> <span class="arrow">&#45;&gt;</span></span> <span>text:<span class="xref-unresolved">Stdlib</span>.String.t <span class="arrow">&#45;&gt;</span></span>
<span><span>(int * int * <span><span class="xref-unresolved">Optint</span>.Int63.t array</span>)</span> option</span></span></code></div><div class="spec-doc"><p><code>search_right_leaning ~k ~pattern ~text</code> searches for the first match in a string using the right leaning variant of the Wu and Manber algorithm, allowing for <code>~k</code> errors for a match. <code>~pattern</code> must have length less than or equal <code>63</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-report" class="anchored"><a href="#val-report" class="anchor"></a><code><span><span class="keyword">val</span> report : <span><span><span>(int * int * <span><span class="xref-unresolved">Optint</span>.Int63.t array</span>)</span> option</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>report</code> produces a texual description of the results of the above functions.</p></div></div></div></body></html>